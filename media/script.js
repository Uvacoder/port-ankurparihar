const overlay=document.getElementById("overlay"),dialog=document.getElementById("dialog"),sidenav=document.getElementById("side-navigation"),btnNavToggle=document.querySelector("button.nav_drawer_toggle"),btnSignIn=document.querySelector(".user-options a.log-in-text"),btnBackToTop=document.getElementById("back-to-top-btn"),toolbar=document.getElementById("toolbar"),toolbarSearch=toolbar.querySelector("#toolbar-search"),toolbarSearchBar=toolbarSearch.querySelector(".toolbar-search__bar"),toolbarSearchInput=toolbarSearch.querySelector("input"),toolbarSearchLabel=toolbarSearch.querySelector("label"),footerContainer=document.getElementById("footer-container"),siteDescriptionContainer=document.getElementById("sd-container"),contentRoot=document.querySelector("main .content--wrap .container"),pageLocationElem=document.getElementById("page-location-text"),pageStyleElem=document.getElementById("pageStyle");var overlayData={elements:[]};function activateOverlay(){overlay.classList.add("overlay--active")}function deactivateOverlay(){overlay.classList.remove("overlay--active"),overlayData.elements.forEach(e=>{e.f()}),overlayData.elements.splice(0,overlayData.elements.length)}function registerOverlayElement(e,t){overlayData.elements.push({e:e,f:t})}function showDialog(e){dialog.innerHTML=e,dialog.parentElement.classList.add("dialog__content__active"),dialog.classList.add("dialog--active")}function hideDialog(){dialog.classList.remove("dialog--active"),dialog.parentElement.classList.remove("dialog__content__active")}function showNav(){sidenav.classList.replace("navigation-drawer--close","navigation-drawer--open"),sidenav.style.setProperty("transform","translateX(0px)")}function hideNav(){sidenav.classList.replace("navigation-drawer--open","navigation-drawer--close"),sidenav.style.setProperty("transform","translateX(-250px)")}function toggleNav(){sidenav.getBoundingClientRect().left<0?(registerOverlayElement(sidenav,hideNav),showNav(),activateOverlay()):(hideNav(),deactivateOverlay())}function alterSearchLabel(){""!=toolbarSearchInput.value?toolbarSearchLabel.style.display="none":toolbarSearchLabel.style.display="block"}overlay.addEventListener("click",deactivateOverlay),overlay.addEventListener("touchstart",deactivateOverlay,{passive:!0}),dialog.parentElement.addEventListener("click",e=>{e.target==dialog.parentElement&&hideDialog()}),dialog.parentElement.addEventListener("touchstart",e=>{e.target==dialog.parentElement&&hideDialog()},{passive:!0}),btnNavToggle.addEventListener("click",toggleNav),toolbarSearchInput.onfocus=(()=>{toolbarSearch.classList.add("focused"),toolbarSearchBar.classList.add("input-group--focused","input-group--tab-focused")}),toolbarSearchInput.onblur=(()=>{toolbarSearch.classList.remove("focused"),toolbarSearchBar.classList.remove("input-group--focused","input-group--tab-focused")}),toolbarSearch.oninput=alterSearchLabel;var newScrollTop,prevScrollTop=document.documentElement.scrollTop,toolbarBlack=toolbar.classList.contains("semi-transparent");function scrollTopUpdate(){newScrollTop=document.documentElement.scrollTop,!toolbarBlack&&newScrollTop>20?(toolbar.classList.add("semi-transparent"),toolbar.classList.remove("transparent","elevation-0"),toolbarBlack=!0,btnBackToTop.classList.add("fab-transition-enter","fab-transition-enter-active"),btnBackToTop.style.display="block",setTimeout(()=>{btnBackToTop.classList.remove("fab-transition-enter","fab-transition-enter-active")},100)):toolbarBlack&&newScrollTop<=20&&(toolbar.classList.remove("semi-transparent"),toolbar.classList.add("transparent","elevation-0"),toolbarBlack=!1,btnBackToTop.classList.add("fab-transition-enter","fab-transition-enter-active"))}function backToTop(){var e;document.documentElement.scrollTop>0&&(e=setInterval(function(){document.documentElement.scrollBy(0,-20),document.documentElement.scrollTop<=0&&clearInterval(e)},10)),document.body.scrollTop>0&&(e=setInterval(function(){document.body.scrollBy(0,-20),document.body.scrollTop<=0&&clearInterval(e)},10))}window.addEventListener("scroll",scrollTopUpdate,{passive:!0}),btnBackToTop.onclick=backToTop;var rippleEnabledElements=[btnNavToggle,btnBackToTop];async function showRippleEffect(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement("span"),n=document.createElement("span");o.appendChild(n),o.className="ripple__container",a.class&&(o.className+=" "+a.class);var i=t.clientWidth>t.clientHeight?t.clientWidth:t.clientHeight;n.className="ripple__animation",n.style.width=i*(a.center?1:2)+"px",n.style.height=n.style.width,t.appendChild(o);var r=window.getComputedStyle(t);"absolute"!==r.position&&"fixed"!==r.position&&(t.style.position="relative");var s=t.getBoundingClientRect();l=a.center?"50%":e.clientX-s.left+"px",u=a.center?"50%":e.clientY-s.top+"px",n.classList.add("ripple__animation--enter","ripple__animation--visible"),st(n,"translate(-50%, -50%) translate("+l+", "+u+") scale3d(0.01,0.01,0.01)"),n.dataset.activated=Date.now(),setTimeout(function(){n.classList.remove("ripple__animation--enter"),st(n,"translate(-50%, -50%) translate("+l+", "+u+")  scale3d(0.99,0.99,0.99)")},0),0!==(t=(e=t).getElementsByClassName("ripple__animation")).length&&(a=t[t.length-1],i=(i=400-(o=Date.now()-Number(a.dataset.activated)))<0?0:i,setTimeout(function(){a.classList.remove("ripple__animation--visible"),setTimeout(function(){try{t.length<1&&(e.style.position=null),a.parentNode&&e.removeChild(a.parentNode)}catch(e){}},300)},i))}function st(e,t){e.style.transform=t,e.style.webkitTransform=t}rippleEnabledElements.forEach(e=>{e.addEventListener("click",t=>{showRippleEffect(t,e)})}),sidenav.querySelectorAll("a").forEach(e=>{e.addEventListener("click",t=>{showRippleEffect(t,e)})});var spa={init:async()=>{if(document.querySelectorAll("nav a, aside#side-navigation a, footer a").forEach(e=>{e.addEventListener("click",t=>{t.ctrlKey?window.open(e.href):spa.navigate(e.href),t.preventDefault()})}),document.querySelectorAll("aside#side-navigation a").forEach(e=>{e.addEventListener("mouseup",deactivateOverlay)}),void 0===curr_page)return;const e=URLDissect(window.location.href);await import(e.protocol+"://"+e.domain+("/"==e.path?"/script.js":e.path+"/script.js")).then(e=>{}),spa.data[curr_page].onStaticLoad(contentRoot,e),scrollTopUpdate()},loadPage:async e=>{hideDialog(),deactivateOverlay();const t=URLDissect(e),a=t.path;try{null==spa.data[a]&&await import(t.protocol+"://"+t.domain+("/"==t.path?"/script.js":t.path+"/script.js")).then(e=>{}),contentRoot.innerHTML="";let n=document.getElementById("injectedCSS");if(n&&n.parentElement.removeChild(n),pageStyleElem.innerHTML=spa.data[a].style,spa.data[a].apply(contentRoot,t),backToTop(),a!=curr_page){var o=document.getElementById(spa.data[curr_page].navID);o.classList.remove("primary--text","list__tile--active"),(o=document.getElementById(spa.data[a].navID)).classList.add("primary--text","list__tile--active"),pageLocationElem.innerHTML=spa.data[a].page_loc_text,curr_page=a,spa.state.updateWindowHistory&&(split=e.split("?"),"/"!=(e=split[0])[e.length-1]&&(e+="/"),2==split.length&&(e=e+"?"+split[1]),window.history.pushState({title:null,url:t.url},null,e))}}catch(e){console.log(e)}},navigate:async(e,t)=>{var a=URLDissect(e);if(null!=t)window.open(e,t);else{var o=URLDissect(window.location.href);a.domain===o.domain&&a.protocol===o.protocol?spa.loadPage(e):window.open(e,"_blank")}},register:(e,t)=>{spa.data[e]=t},windowPop:e=>{url=e.target.location.href,targetInfo=URLDissect(url),sourceInfo=URLDissect(spa.state.window__url),targetInfo.protocol===sourceInfo.protocol&&targetInfo.domain===sourceInfo.domain&&(spa.state.updateWindowHistory=!1,spa.loadPage(url),spa.state.updateWindowHistory=!0,spa.state.window__url=url)},data:{},state:{updateWindowHistory:!0,window__url:""}};function URLDissect(e){var t={url:e,protocol:void 0,domain:void 0,path:void 0,param:{}};return e=e.split("://"),t.protocol=e[0],e=e[1],t.domain=e.split("?")[0].split("/",1)[0],e=e.replace(t.domain,"").split("?"),t.path=e[0],0!==t.path.length&&"/"==t.path[0]||(t.path="/"+t.path),t.path.length>1&&"/"==t.path[t.path.length-1]&&(t.path=t.path.slice(0,-1)),e.length<2?t:(e=e[1].split("&"),t.param={},e.forEach(e=>{e=e.split("="),t.param[e[0]]=e.length>1?e[1]:""}),t)}function download(e){var t;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){return 4==this.readyState&&200==this.status?this.responseText:4==this.readyState?null:void 0},t.open("GET",e,!0),t.send()}function injectJS(e,t,a){var o;void 0!==e&&""!=e&&(void 0===t&&(t="injectedJS"),void 0===a&&(a=!0),a&&(o=document.getElementById(t))&&o.parentElement.removeChild(o),jsELem=document.createElement("script"),jsELem.id="injectedJS",jsELem.type="text/javascript",jsELem.src=e,document.body.appendChild(jsELem))}function injectCSS(e,t,a){if(void 0!==e&&""!=e){void 0===t&&(t="injectedCSS"),void 0===a&&(a=!1);var o=document.getElementById(t);o&&a&&(o.parentElement.removeChild(o),o=null),o?o.href=e:((o=document.createElement("link")).id=t,o.type="text/css",o.rel="stylesheet",o.href=e,document.head.appendChild(o))}}document.addEventListener("click",function(e){"[object HTMLButtonElement]"==document.activeElement.toString()&&document.activeElement.blur()}),spa.state.window__url=window.location.href,window.onpopstate=spa.windowPop,window.onload=(()=>{spa.init()});